@model List<TakoLeaf.Models.Prestation>
@{
    Layout = "_Layout";
}

<h1>Liste des Prestations en cours</h1>


@for (int i = 0; i < Model.Count; i++)
{

    <ul>
        <li>Date debut : @Model[i].DateDebut</li>
        <li>Consumer : @Model[i].Consumer.Adherent.Prenom  @Model[i].Consumer.Adherent.Nom</li>
        <li>Provider : @Model[i].Provider.Adherent.Prenom  @Model[i].Provider.Adherent.Nom</li>
        <li>Adresse : @Model[i].Provider.Adherent.Adresse.Rue ,  @Model[i].Provider.Adherent.Adresse.CodePostal , @Model[i].Provider.Adherent.Adresse.Ville</li>
        @*<li>Voiture : @Model[i].Voiture.Modele.Marque.Nom @Model[i].Voiture.Modele.Nom</li>*@
        <li>Prix : @Model[i].Prix €</li>
        <li>Date Debut : @Model[i].DateDebut.ToShortDateString()</li>
        <li>Etat : @Model[i].EtatPresta</li>
        

        @Html.HiddenFor(m => Model[i].NumeroDevis)

    </ul>
    @using (Html.BeginForm("ValiderPrestation", "Prestation"))
    {

        <input type="text" name="id" value="@Model[i].Id" style="display:none;" />
        <button class="btn btn-primary btn-xl" type="submit">Finaliser la prestation</button>
    }

    @using (Html.BeginForm("RefuserPrestation", "Prestation"))
    {

        <input type="text" name="id" value="@Model[i].Id style="display:none;" />
        <button class="btn btn-primary btn-xl" type="submit">Signaler la prestation</button>
    }
}