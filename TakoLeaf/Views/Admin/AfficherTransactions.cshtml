@model TakoLeaf.ViewModels.DashViewModel
@{
    ViewData["Title"] = "Affichage transaction";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<h1>AfficherTransactions</h1>

<div class="boite">
    <fieldset>
        <legend>Vos dernières transactions</legend>
        <table>
            <tr>
                <th>Consumer</th>
                <th>Provider</th>
                <th>Date</th>
                <th>Etat de la prestation</th>
                <th>Prix</th>
            </tr>

            @foreach (var item in Model.ListePrestations)
            {
                <tr>
                    <td>@item.Consumer.Adherent.Nom @item.Consumer.Adherent.Prenom</td>
                    <td>@item.Provider.Adherent.Nom @item.Provider.Adherent.Prenom</td>
                    <td>@item.DateDebut.ToShortDateString()</td>

                    @if (item.EtatPresta == TakoLeaf.Models.Prestation.Etat.Refuse)
                    {
                        <td text="text" style="background-color:darkred; color:white">Annulé</td>
                    }
                    else if (item.EtatPresta == TakoLeaf.Models.Prestation.Etat.En_cours)
                    {
                        <td text="text" style="background-color:orange; color:white">En cours</td>
                    }
                    else
                    {
                        <td text="text" style="background-color:green; color:white">Terminée</td>
                    }

                    <td>@item.Prix €</td>

                </tr>
            }

        </table>
    </fieldset>
</div>