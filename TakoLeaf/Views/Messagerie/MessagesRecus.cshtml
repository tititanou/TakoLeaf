@model TakoLeaf.ViewModels.MessagerieViewModel
@{ Layout = "_LayoutConnecte"; }

<!DOCTYPE html>

<html>
<head>
    <script src="https://kit.fontawesome.com/1ca99e9622.js" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width" />
    <title>MessagesRecus</title>
</head>
<body>
    <div class="container">
        <div class="card mx-auto" style="width:80%">
            <div class="card-header text-center">
                    <h3>Messages Re√ßus</h3>
            </div>
            <div class="card-body">
                @using (@Html.BeginForm("SupprimerMessages", "Messagerie"))
                 {
                    <table class="table">
                        <thead>
                            <th>@Html.CheckBox("IsChecked", new { id = "all" })</th>
                            <th><label for="del"><i class="far fa-trash-alt"></i></label><input type="submit" aria-hidden="true" style="display:none" id="del" /></th>
                        </thead>
                        <tbody>
                            @foreach (var message in Model.MessagesList)
                             {
                                <tr>
                                    @{ string goTo = "/Messagerie/Message?id=" + message.Id; }
                                    <td><input class="messCB" id="IsChecked" name="MessageList" type="checkbox" value="@message.Id"></td>
                                    <td><a href=@goTo style="text-decoration: none;color: black;">@message.AdherentExp.Prenom @message.AdherentExp.Nom</a></td>
                                    <td><a href=@goTo style="text-decoration: none; color: black;">@message.Titre</a></td>
                                </tr>
                             }
                        </tbody>
                    </table>
                 }
            </div>
            <div class="card-footer text-center">
                 <div style="display:inline"><button type="button" onclick="window.location.href = '@Url.Action("MessagesEnvoyes", "Messagerie")'" class="btn btn-outline-info">Messages Envoyes</button><button type="button" onclick="window.location.href = '@Url.Action("NouveauMessage", "Messagerie")'" class="btn btn-outline-info">NouveauMessage</button></div>
            </div>
        </div>
    </div>
    <script src="~/jquery-3.6.0.js"></script>
    <script src="~/js/Messagerie-script.js"></script>
</body>
</html>
